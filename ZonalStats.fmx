#! <?xml version="1.0" encoding="utf-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN ZonalStats,1,Rasters,0e9303af-a03f-4571-acad-d33a3453e355,"Linked by Default",No,NO_PARALLELISM,,No,15485,YES,No
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">This custom transformer uses an external python script to efficiently perform zonal statistics for input features and a (potentially large) number of rasters. By only rasterizing the zone features once the overhead of this is reduced when running on a large stack of data rasters.</p>
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">All rasters must have the same geotransform. </p>
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The necessary python scripts should be provided along with this custom transformer, and are originally based on the Python package rasterstats by Matthew Perry:</p>
# <p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">https://github.com/perrygeo/python-rasterstats </p>
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# 
# TRANSFORMER_END
#! USAGE="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The rasters should be in a single directory on disk; this directory should be selected along with a filter to select which of the files in the directory should be read. The rasters must all have the same geotransform (resolution and extent)!!&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Choose only the statistics that are required: each are calculated separately so the more you choose the slower it will run. The added attributes will not be exposed on the output features so use an AttributeExposer to reveal them - they have the obvious names of &quot;sum&quot;, &quot;mean&quot;, etc.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;If you choose not to keep source attributes then you will have to rely on the fact that the features exit the transformer in the same order that they enter.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;You can choose the strategy to use in selecting pixels for inclusion. The default of including only when cell centres are inside is the approach taken as standard by ArcMap. Alternatively you can include any pixels that are touched at all by the polygon. This will ensure that a value is derived even when the polygon is smaller than the cell size. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;In either case a pixel is either excluded or included in its entirety: there is no concept of partial pixel areas being calculated.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! TITLE="ZonalStats"
#! FME_PROCESS_GROUP_BY=""
#! DOC_TOP_LEFT="-1062.01 -793.501"
#! FME_BUILD_NUM="15485"
#! FME_SERVER_SERVICES=""
#! HISTORY="2015-08-12,Harry&lt;space&gt;Gibson,Initial&lt;space&gt;working&lt;space&gt;version:&lt;space&gt;categorical&lt;space&gt;is&lt;space&gt;untested"
#! FME_DOCUMENT_GUID="0e9303af-a03f-4571-acad-d33a3453e355"
#! SHOW_ANNOTATIONS="true"
#! WORKSPACE_VERSION="1"
#! FMX_INSERT_MODE="Linked by Default"
#! DESCRIPTION="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;This custom transformer uses an external python script to efficiently perform zonal statistics for input features and a (potentially large) number of rasters. By only rasterizing the zone features once the overhead of this is reduced when running on a large stack of data rasters.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;All rasters must have the same geotransform. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The necessary python scripts should be provided along with this custom transformer, and are originally based on the Python package rasterstats by Matthew Perry:&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;https://github.com/perrygeo/python-rasterstats &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! MAX_LOOP_ITERATIONS=""
#! LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! WARN_INVALID_XFORM_PARAM="Yes"
#! FME_PROCESS_COUNT="NO_PARALLELISM"
#! PASSWORD=""
#! FME_PROCESS_GROUPS_ORDERED="No"
#! CATEGORY="Rasters"
#! ZOOM_SCALE="100"
#! BLOCKED_LOOPING="No"
#! XFORM_DEPRECATED="No"
#! FME_DOCUMENT_PRIORGUID="e888e927-feb6-41a1-84d3-235728d61d94,d79d52fa-c235-4deb-861c-35b9458b9572,7fa56043-90c9-48cd-a7a8-a4f4d4392029,71a8a1e6-c624-4b82-aae4-7c4ba5b6b76c"
#! VIEW_POSITION="-1491.01 1083.01"
#! LAST_SAVE_BUILD="FME(R) 2015.1.0.3 (20150623 - Build 15485 - WIN64)"
#! FME_LINKED_TRANSFORMER_VERSION="1"
#! REQUIREMENTS="&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The python code needs the following modules to be available to the Python installation used by FME:&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;shapely&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;gdal&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;gdalnumeric (= numpy)&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;ogr&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! DOC_EXTENTS="2712.01 1624.51"
#! ATTR_TYPE_ENCODING="SDF"
#! SHOW_INFO_NODES="true"
#! LAST_SAVE_DATE="2015-08-14T15:58:48"
#! REQUIREMENTS_KEYWORD="none"
#! ITERATION_COUNT_ATTR=""
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI MULTIDIR SourceDataset_PATH Source Folder and File Pathnames Folder:"
#! DEFAULT_VALUE="E:\MCD43B4_Gapfilled_Output\EVI\Output_Monthly_Means\5km"
#! IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI LISTBOX_OR_ATTR Stats_To_Calculate count%min%max%mean%sum%std%median%majority%minority%unique%range Which zonal statistics should be calculated?:"
#! DEFAULT_VALUE="count mean max"
#! IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI CHOICE_OR_ATTR Keep_Source_Attributes True%False Keep all source attributes?:"
#! DEFAULT_VALUE="True"
#! IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI OPTIONAL TEXT_OR_ATTR_ENCODED Filename_Filter Raster Filename filter (e.g. *.Data.tif):"
#! DEFAULT_VALUE="*.Mean.tif"
#! IS_STAND_ALONE="false"
#! />
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI LOOKUP_CHOICE_OR_ATTR UseAllTouchedPixels All&lt;space&gt;touched&lt;space&gt;pixels&lt;space&gt;&lt;openparen&gt;even&lt;space&gt;if&lt;space&gt;only&lt;space&gt;fractionally&lt;space&gt;inside&lt;closeparen&gt;,True%Only&lt;space&gt;pixels&lt;space&gt;where&lt;space&gt;cell&lt;space&gt;centre&lt;space&gt;is&lt;space&gt;inside&lt;space&gt;&lt;openparen&gt;default&lt;semicolon&gt;&lt;space&gt;like&lt;space&gt;ArcMap&lt;closeparen&gt;,False Include pixels only when centres are inside, or all touched pixels?:"
#! DEFAULT_VALUE="False"
#! IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! <COMMENT
#! IDENTIFIER="22"
#! COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:8.25pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Create an FID so that we always have one&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#! POSITION="-300 -205.497"
#! TOP_LEFT="-300 -205.497"
#! BOTTOM_RIGHT="255.004 -337.498"
#! BOUNDING_RECT="-300 -205.497 555.004 132.001"
#! ORDER="5e+014"
#! FOLLOW_ANCHOR="true"
#! INFO_NODE="false"
#! COLOUR="1,1,0.784314,0.192157"
#! SIZE_POLICY="10"
#! COMMENT_TYPE="REGULAR"
#! ANCHORED_NODE="2"
#! />
#! <COMMENT
#! IDENTIFIER="23"
#! COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:8.25pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Save geometry to a WKT attribute so the Python code can access it; give it a standard (Well Known!) name too&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#! POSITION="-381.002 -600"
#! TOP_LEFT="-381.002 -600"
#! BOTTOM_RIGHT="276.003 -771.001"
#! BOUNDING_RECT="-381.002 -600 657.005 171.001"
#! ORDER="5e+014"
#! FOLLOW_ANCHOR="true"
#! INFO_NODE="false"
#! COLOUR="1,1,0.784314,0.192157"
#! SIZE_POLICY="10"
#! COMMENT_TYPE="REGULAR"
#! ANCHORED_NODE="5"
#! />
#! <COMMENT
#! IDENTIFIER="24"
#! COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:8.25pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;Run zonal stats on all relevant rasters&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#! POSITION="390 -326.999"
#! TOP_LEFT="390 -326.999"
#! BOTTOM_RIGHT="389 -325.999"
#! BOUNDING_RECT="390 -326.999 -1 -1"
#! ORDER="5e+014"
#! FOLLOW_ANCHOR="true"
#! INFO_NODE="false"
#! COLOUR="1,1,0.784314,0.192157"
#! SIZE_POLICY="8"
#! COMMENT_TYPE="REGULAR"
#! ANCHORED_NODE="1"
#! />
#! <COMMENT
#! IDENTIFIER="28"
#! COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:8.25pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;This custom transformer uses an external python script to perform zonal statistics for input features and a (potentially large) number of rasters. All rasters must have the same geotransform. &lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;The necessary python scripts should be provided along with this custom transformer, and are originally based on the Python package rasterstats by Matthew Perry.&lt;/p&gt;&#10;&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#! POSITION="-1062.01 831.008"
#! TOP_LEFT="-1062.01 831.008"
#! BOTTOM_RIGHT="-312.011 781.008"
#! BOUNDING_RECT="-1062.01 831.008 750 50"
#! ORDER="5e+014"
#! FOLLOW_ANCHOR="true"
#! INFO_NODE="false"
#! COLOUR="1,1,0.784314,0.196078"
#! SIZE_POLICY="10"
#! COMMENT_TYPE="REGULAR"
#! ANCHORED_NODE="0"
#! />
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#! IDENTIFIER="1"
#! TYPE="PythonCaller"
#! VERSION="4"
#! POSITION="450 -450"
#! BOUNDING_RECT="450 -450 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_FME_FID_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_FME_GEOM_WKT_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="RasterList{}.path_windows" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Stats_To_Calculate" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Keep_Source_Attributes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_UseAllTouchedPixels" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="rastername" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PYTHONSOURCE" PARM_VALUE="import&lt;space&gt;fme&lt;lf&gt;import&lt;space&gt;fmeobjects&lt;lf&gt;&lt;lf&gt;try:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;osgeo&lt;space&gt;import&lt;space&gt;gdal&lt;comma&gt;ogr&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;osgeo.gdalnumeric&lt;space&gt;import&lt;space&gt;*&lt;lf&gt;except&lt;space&gt;ImportError:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;import&lt;space&gt;gdal&lt;comma&gt;ogr&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;from&lt;space&gt;gdalnumeric&lt;space&gt;import&lt;space&gt;*&lt;lf&gt;&lt;lf&gt;#&lt;space&gt;move&lt;space&gt;existing&lt;space&gt;code&lt;space&gt;to&lt;space&gt;module&lt;space&gt;with&lt;space&gt;transformer&lt;lf&gt;from&lt;space&gt;raster_stats_multi&lt;space&gt;import&lt;space&gt;raster_stats_multi&lt;lf&gt;from&lt;space&gt;rasterstats.utils&lt;space&gt;import&lt;space&gt;*&lt;lf&gt;from&lt;space&gt;shapely.geometry&lt;space&gt;import&lt;space&gt;shape&lt;comma&gt;&lt;space&gt;box&lt;comma&gt;&lt;space&gt;MultiPolygon&lt;lf&gt;&lt;lf&gt;logger&lt;space&gt;=&lt;space&gt;fmeobjects.FMELogFile&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;lf&gt;#&lt;space&gt;Template&lt;space&gt;Function&lt;space&gt;interface:&lt;lf&gt;def&lt;space&gt;processFeature&lt;openparen&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;pass&lt;lf&gt;&lt;lf&gt;#&lt;space&gt;Template&lt;space&gt;Class&lt;space&gt;Interface:&lt;lf&gt;class&lt;space&gt;FeatureProcessor&lt;openparen&gt;object&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;__init__&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.allFeatures&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.allFeatures&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.rasterFiles&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.allIDs&lt;space&gt;=&lt;space&gt;set&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.useAllTouched&lt;space&gt;=&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.copyValues&lt;space&gt;=&lt;space&gt;True&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.whichStats&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;for&lt;space&gt;each&lt;space&gt;input&lt;space&gt;feature&lt;space&gt;turn&lt;space&gt;it&lt;space&gt;into&lt;space&gt;a&lt;space&gt;dictionary&lt;space&gt;of&lt;space&gt;attribs&lt;space&gt;and&lt;space&gt;save&lt;space&gt;to&lt;space&gt;a&lt;space&gt;list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Except&lt;space&gt;for&lt;space&gt;feature&lt;space&gt;which&lt;space&gt;has&lt;space&gt;a&lt;space&gt;RasterList&lt;space&gt;attribute&lt;space&gt;-&lt;space&gt;there&lt;space&gt;must&lt;space&gt;be&lt;space&gt;one&lt;space&gt;of&lt;space&gt;these&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;input&lt;openparen&gt;self&lt;comma&gt;feature&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;there&lt;space&gt;must&lt;space&gt;be&lt;space&gt;exactly&lt;space&gt;one&lt;space&gt;feature&lt;space&gt;provided&lt;space&gt;that&lt;space&gt;has&lt;space&gt;a&lt;space&gt;RasterList&lt;opencurly&gt;&lt;closecurly&gt;&lt;space&gt;attribute&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;list&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;RasterList&lt;opencurly&gt;&lt;closecurly&gt;.path_windows&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;list&lt;space&gt;!=&lt;space&gt;None:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;len&lt;openparen&gt;self.rasterFiles&lt;closeparen&gt;&lt;space&gt;!=&lt;space&gt;0:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;throw&lt;space&gt;error&lt;space&gt;better&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;quote&gt;Zonal&lt;space&gt;stats&lt;space&gt;error&lt;space&gt;-&lt;space&gt;more&lt;space&gt;than&lt;space&gt;one&lt;space&gt;feature&lt;space&gt;with&lt;space&gt;a&lt;space&gt;RasterList&lt;opencurly&gt;&lt;closecurly&gt;&lt;space&gt;attribute&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.rasterFiles&lt;space&gt;=&lt;space&gt;list&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.useAllTouched&lt;space&gt;=&lt;space&gt;&lt;quote&gt;True&lt;quote&gt;&lt;space&gt;==&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_UseAllTouchedPixels&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.copyValues&lt;space&gt;=&lt;space&gt;&lt;quote&gt;True&lt;quote&gt;&lt;space&gt;==&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_Keep_Source_Attributes&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;get&lt;space&gt;which&lt;space&gt;stats&lt;space&gt;to&lt;space&gt;do&lt;space&gt;from&lt;space&gt;wb&lt;space&gt;parameter&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.whichStats&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_Stats_To_Calculate&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;parse&lt;space&gt;to&lt;space&gt;listFME_MacroValues&lt;openbracket&gt;&lt;apos&gt;StatsToRun&lt;apos&gt;&lt;closebracket&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;Geom_Attr_WKT&lt;apos&gt;&lt;closebracket&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;ID_Attr&lt;apos&gt;&lt;closebracket&gt;FME_MacroValues&lt;openbracket&gt;&lt;apos&gt;Keep_Source_Attrs&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#except:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#self.whichStats&lt;space&gt;=&lt;space&gt;&lt;openbracket&gt;&lt;apos&gt;sum&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;mean&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;max&lt;apos&gt;&lt;comma&gt;&lt;apos&gt;min&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#geomWKT&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_FME_GEOM_WKT_&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;featID&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;&lt;apos&gt;_FME_FID_&lt;apos&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;featID&lt;space&gt;in&lt;space&gt;self.allIDs:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;quote&gt;Non&lt;space&gt;unique&lt;space&gt;feature&lt;space&gt;IDs!&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;assert&lt;space&gt;False&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;attrNames&lt;space&gt;=&lt;space&gt;feature.getAllAttributeNames&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;item&lt;space&gt;=&lt;space&gt;&lt;opencurly&gt;&lt;closecurly&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;attrName&lt;space&gt;in&lt;space&gt;attrNames:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;item&lt;openbracket&gt;attrName&lt;closebracket&gt;&lt;space&gt;=&lt;space&gt;feature.getAttribute&lt;openparen&gt;attrName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;if&lt;space&gt;item.has_key&lt;openparen&gt;&lt;apos&gt;_FME_GEOM_WKT_&lt;apos&gt;&lt;closeparen&gt;&lt;space&gt;and&lt;space&gt;item.has_key&lt;openparen&gt;&lt;apos&gt;_FME_FID_&lt;apos&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.allFeatures.append&lt;openparen&gt;item&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;else:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;quote&gt;Feature&lt;space&gt;does&lt;space&gt;not&lt;space&gt;have&lt;space&gt;necessary&lt;space&gt;attributes!&lt;quote&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;When&lt;space&gt;all&lt;space&gt;features&lt;space&gt;have&lt;space&gt;arrived&lt;comma&gt;&lt;space&gt;call&lt;space&gt;the&lt;space&gt;modified&lt;space&gt;external&lt;space&gt;zonal&lt;space&gt;stats&lt;space&gt;script&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;def&lt;space&gt;close&lt;openparen&gt;self&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;quote&gt;Calculating&lt;space&gt;stats:&lt;space&gt;&lt;space&gt;&lt;quote&gt;+str&lt;openparen&gt;self.whichStats&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;get&lt;space&gt;whether&lt;space&gt;the&lt;space&gt;input&lt;space&gt;attributes&lt;space&gt;should&lt;space&gt;be&lt;space&gt;copied&lt;space&gt;over&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;quote&gt;Copying&lt;space&gt;attributes&lt;space&gt;to&lt;space&gt;output&lt;space&gt;=&lt;space&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;+str&lt;openparen&gt;self.copyValues&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;Get&lt;space&gt;the&lt;space&gt;edge&lt;space&gt;pixel&lt;space&gt;inclusion&lt;space&gt;strategy&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;logger.logMessageString&lt;openparen&gt;&lt;quote&gt;Using&lt;space&gt;all&lt;space&gt;touched&lt;space&gt;pixels&lt;space&gt;in&lt;space&gt;zonal&lt;space&gt;stats:&lt;space&gt;&lt;quote&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;+str&lt;openparen&gt;self.useAllTouched&lt;closeparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;run&lt;space&gt;zonal_stats_multi&lt;space&gt;script&lt;space&gt;&lt;openparen&gt;modified&lt;space&gt;from&lt;space&gt;rasterstats&lt;space&gt;package&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;results&lt;space&gt;=&lt;space&gt;raster_stats_multi&lt;openparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.allFeatures&lt;comma&gt;&lt;space&gt;self.rasterFiles&lt;comma&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;apos&gt;_FME_GEOM_WKT_&lt;apos&gt;&lt;comma&gt;&lt;space&gt;&lt;apos&gt;_FME_FID_&lt;apos&gt;&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;stats&lt;space&gt;=&lt;space&gt;self.whichStats&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;copy_properties&lt;space&gt;=&lt;space&gt;self.copyValues&lt;comma&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;all_touched&lt;space&gt;=&lt;space&gt;self.useAllTouched&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;#&lt;space&gt;output&lt;space&gt;features&lt;space&gt;with&lt;space&gt;fid&lt;comma&gt;&lt;space&gt;mean&lt;comma&gt;&lt;space&gt;sum....&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;rastFileRes&lt;space&gt;in&lt;space&gt;results:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;stats&lt;space&gt;=&lt;space&gt;rastFileRes&lt;openbracket&gt;&lt;apos&gt;stats&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;rastName&lt;space&gt;=&lt;space&gt;rastFileRes&lt;openbracket&gt;&lt;apos&gt;rastername&lt;apos&gt;&lt;closebracket&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;zoneRastRes&lt;space&gt;in&lt;space&gt;stats:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature&lt;space&gt;=&lt;space&gt;fmeobjects.FMEFeature&lt;openparen&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;&lt;apos&gt;rastername&lt;apos&gt;&lt;comma&gt;&lt;space&gt;rastName&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;for&lt;space&gt;stat&lt;space&gt;in&lt;space&gt;zoneRastRes.keys&lt;openparen&gt;&lt;closeparen&gt;:&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;feature.setAttribute&lt;openparen&gt;stat&lt;comma&gt;&lt;space&gt;zoneRastRes&lt;openbracket&gt;stat&lt;closebracket&gt;&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;self.pyoutput&lt;openparen&gt;feature&lt;closeparen&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;results&lt;space&gt;=&lt;space&gt;None&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;lf&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;&lt;space&gt;"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller"/>
#! <XFORM_PARM PARM_NAME="PYTHONSYMBOL" PARM_VALUE="FeatureProcessor"/>
#! <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="NEW_ATTRIBUTES" PARM_VALUE="rastername"/>
#! <XFORM_PARM PARM_NAME="HIDE_ATTRIBUTES" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="2"
#! TYPE="Counter"
#! VERSION="2"
#! POSITION="-150 -364.498"
#! BOUNDING_RECT="-150 -364.498 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_FME_FID_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="DOMAIN" PARM_VALUE="counter"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Counter"/>
#! <XFORM_PARM PARM_NAME="CNT_ATTR" PARM_VALUE="_FME_FID_"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="SCOPE" PARM_VALUE="Global"/>
#! <XFORM_PARM PARM_NAME="START" PARM_VALUE="0"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="3"
#! TYPE="ListBuilder"
#! VERSION="0"
#! POSITION="98.9995 211.505"
#! BOUNDING_RECT="98.9995 211.505 430 71"
#! ORDER="5e+014"
#! PARMS_EDITED="false"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="RasterList{}.path_windows" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="FME_PROCESS_GROUPS_ORDERED" PARM_VALUE="No"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ListBuilder"/>
#! <XFORM_PARM PARM_NAME="FME_PROCESS_COUNTDISP" PARM_VALUE="No Parallelism"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="GRP_BY" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="LIST_NAME" PARM_VALUE="RasterList"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="4"
#! TYPE="AttributeKeeper"
#! VERSION="3"
#! POSITION="-400.49 208.501"
#! BOUNDING_RECT="-400.49 208.501 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="false"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="path_windows" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="KEEP_LIST" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeKeeper"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="KEEP_ATTRS" PARM_VALUE="path_windows"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="5"
#! TYPE="GeometryExtractor"
#! VERSION="8"
#! POSITION="-150 -793.501"
#! BOUNDING_RECT="-150 -793.501 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_FME_FID_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_FME_GEOM_WKT_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="ELLIPSOID_NAME" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="GeometryExtractor"/>
#! <XFORM_PARM PARM_NAME="PRECISION" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="LEVELS_ATTR" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="GEOHASH_PRECISION_DISPLAY" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="OGCVERSION" PARM_VALUE="1.1"/>
#! <XFORM_PARM PARM_NAME="ATTR" PARM_VALUE="_FME_GEOM_WKT_"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="KIND_LONG" PARM_VALUE="OGC Well Known Text"/>
#! <XFORM_PARM PARM_NAME="OGEOSMS_URL_PREFIX" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="OMIT_NAMESPACES_DISPLAY" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="LETTERING" PARM_VALUE="&lt;Unused&gt;"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="6"
#! TYPE="Inspector"
#! VERSION="3"
#! POSITION="450 -750"
#! BOUNDING_RECT="450 -750 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="false"
#! ENABLED="false"
#! LAST_PARM_EDIT="15485"
#! >
#! <XFORM_PARM PARM_NAME="RASTER_NUM_COLS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="AREA_COLOR" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="POINTCLOUD_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="PythonCaller_Output"/>
#! <XFORM_PARM PARM_NAME="VECTOR_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="RASTER_NUM_ROWS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="RASTER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TACKATTRS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="RASTER_START_ROW" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="THINNER_MAX_NUM_POINTS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="RASTER_VISUALIZATION_OPTION" PARM_VALUE="No Reduction"/>
#! <XFORM_PARM PARM_NAME="PEN_COLOR" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="THINNER_INTERVAL" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="THINNER_TYPE_DISPLAY" PARM_VALUE="No Thinning"/>
#! <XFORM_PARM PARM_NAME="RASTER_START_COL" PARM_VALUE="&lt;Unused&gt;"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="7"
#! TYPE="FeatureReader"
#! VERSION="7"
#! POSITION="150 688.502"
#! BOUNDING_RECT="150 688.502 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="&lt;SCHEMA&gt;"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="fme_feature_type_name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="attribute{}.name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="attribute{}.fme_data_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="attribute{}.native_data_type" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="fme_format_short_name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="fme_format_long_name" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <OUTPUT_FEAT NAME="PATH"/>
#! <FEAT_COLLAPSED COLLAPSED="1"/>
#! <XFORM_ATTR ATTR_NAME="path_unix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_windows" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_rootname" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_filename" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_extension" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_filesize" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_ownername" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_readonly" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_modified_date" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_created_date" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_accessed_date" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_directory_unix" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_directory_windows" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="path_type" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="fme_geometry{0}" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <OUTPUT_FEAT NAME="&lt;OTHER&gt;"/>
#! <FEAT_COLLAPSED COLLAPSED="2"/>
#! <OUTPUT_FEAT NAME="INITIATOR"/>
#! <FEAT_COLLAPSED COLLAPSED="3"/>
#! <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="3" />
#! <XFORM_ATTR ATTR_NAME="_matched_records" IS_USER_CREATED="false" FEAT_INDEX="3" />
#! <OUTPUT_FEAT NAME="&lt;REJECTED&gt;"/>
#! <FEAT_COLLAPSED COLLAPSED="4"/>
#! <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="4" />
#! <XFORM_ATTR ATTR_NAME="_reader_error" IS_USER_CREATED="false" FEAT_INDEX="4" />
#! <XFORM_PARM PARM_NAME="MERGE_HANDLING_GROUP" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#! <XFORM_PARM PARM_NAME="PATH_RETRIEVE_FILE_PROPERTIES" PARM_VALUE="NO"/>
#! <XFORM_PARM PARM_NAME="PATH_GLOB_PATTERN" PARM_VALUE="$(Filename_Filter)"/>
#! <XFORM_PARM PARM_NAME="OUTPUT_FEATURES_DISPLAY" PARM_VALUE="Based on Connections"/>
#! <XFORM_PARM PARM_NAME="FTTR_SEPARATOR" PARM_VALUE="SPACE"/>
#! <XFORM_PARM PARM_NAME="ATTR_NAME" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="ATTR_CONFLICT_RES" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="AVAILABLE_FEATURE_TYPES" PARM_VALUE="_FEATUREREADER_OPTIONAL_FTTR_%PATH"/>
#! <XFORM_PARM PARM_NAME="ATTRS_TO_EXPOSE" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="WHERE" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="ATTR_ACCUM_MODE" PARM_VALUE="Only Use Result"/>
#! <XFORM_PARM PARM_NAME="CONSTRAINTS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="ATTRIBUTES" PARM_VALUE="PATH,&quot;path_unix,path_windows,path_rootname,path_filename,path_extension,path_filesize,path_ownername,path_readonly,path_modified_date,path_created_date,path_accessed_date,path_directory_unix,path_directory_windows,path_type,fme_geometry{0}&quot;"/>
#! <XFORM_PARM PARM_NAME="CACHE_TIMEOUT_HRS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="PATH_TYPE" PARM_VALUE="FILE"/>
#! <XFORM_PARM PARM_NAME="FORMAT" PARM_VALUE="PATH"/>
#! <XFORM_PARM PARM_NAME="ATTR_PREFIX" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="OUTPUT_PORTS_MODE" PARM_VALUE="PORTS_FROM_FTTR"/>
#! <XFORM_PARM PARM_NAME="DATASET" PARM_VALUE="$(SourceDataset_PATH)"/>
#! <XFORM_PARM PARM_NAME="FORMAT_DIRECTIVES" PARM_VALUE="META_MACROS,SourceGLOB_PATTERN&lt;comma&gt;&lt;dollar&gt;&lt;openparen&gt;Filename_Filter&lt;closeparen&gt;&lt;comma&gt;SourceTYPE&lt;comma&gt;FILE&lt;comma&gt;SourceRETRIEVE_FILE_PROPERTIES&lt;comma&gt;NO,METAFILE,PATH"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="FeatureReader"/>
#! <XFORM_PARM PARM_NAME="OUTPUTPORTS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="PORTS_FROM_FTTR" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="COMBINE_GEOM" PARM_VALUE="Use Result"/>
#! <XFORM_PARM PARM_NAME="FEATURETYPES_RADIO" PARM_VALUE="FEATURETYPES"/>
#! <XFORM_PARM PARM_NAME="FORMAT_PARAMS" PARM_VALUE="PATH_RETRIEVE_FILE_PROPERTIES,&quot;OPTIONAL CHOICE YES%NO&quot;,PATH&lt;space&gt;Retrieve&lt;space&gt;file&lt;space&gt;properties:,PATH_GLOB_PATTERN,&quot;OPTIONAL TEXT_ENCODED&quot;,PATH&lt;space&gt;Path&lt;space&gt;Filter:,PATH_TYPE,&quot;OPTIONAL CHOICE ANY%DIRECTORY%FILE&quot;,PATH&lt;space&gt;Allowed&lt;space&gt;Path&lt;space&gt;Type:"/>
#! <XFORM_PARM PARM_NAME="ADVANCED_GROUP" PARM_VALUE="FME_DISCLOSURE_OPEN"/>
#! <XFORM_PARM PARM_NAME="FEATURETYPES" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="SELECTED_PORTS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="INTERACT" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="FEATURETYPES_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="SUPPORTED_SPATIAL_INTERACTIONS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="SINGLE_PORT" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="ENABLE_CACHE" PARM_VALUE="NO"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="8"
#! TYPE="Creator"
#! VERSION="5"
#! POSITION="-373.499 600"
#! BOUNDING_RECT="-373.499 600 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="false"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="CREATED"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_creation_instance" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="CRE_ATTR" PARM_VALUE="_creation_instance"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Creator"/>
#! <XFORM_PARM PARM_NAME="NUM" PARM_VALUE="1"/>
#! <XFORM_PARM PARM_NAME="GEOMTYPE" PARM_VALUE="Geometry Object"/>
#! <XFORM_PARM PARM_NAME="COORDS" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="COORDSYS" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="GEOM" PARM_VALUE="&lt;lt&gt;?xml&lt;space&gt;version=&lt;quote&gt;1.0&lt;quote&gt;&lt;space&gt;encoding=&lt;quote&gt;US_ASCII&lt;quote&gt;&lt;space&gt;standalone=&lt;quote&gt;no&lt;quote&gt;&lt;space&gt;?&lt;gt&gt;&lt;lt&gt;geometry&lt;space&gt;dimension=&lt;quote&gt;2&lt;quote&gt;&lt;gt&gt;&lt;lt&gt;null&lt;solidus&gt;&lt;gt&gt;&lt;lt&gt;&lt;solidus&gt;geometry&lt;gt&gt;"/>
#! <XFORM_PARM PARM_NAME="ATEND" PARM_VALUE="no"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="9"
#! TYPE="AttributeRemover"
#! VERSION="1"
#! POSITION="1097.25 -450"
#! BOUNDING_RECT="1097.25 -450 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_FME_FID_" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Stats_To_Calculate" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Keep_Source_Attributes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_UseAllTouchedPixels" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="rastername" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="LIST_ATTRS" PARM_VALUE="RasterList&lt;opencurly&gt;&lt;closecurly&gt;"/>
#! <XFORM_PARM PARM_NAME="REMOVE_ATTRS" PARM_VALUE="_FME_GEOM_WKT_"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRemover"/>
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="25"
#! TYPE="ParameterFetcher"
#! VERSION="4"
#! POSITION="600 213.756"
#! BOUNDING_RECT="600 213.756 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15485"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="RasterList{}.path_windows" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Stats_To_Calculate" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_Keep_Source_Attributes" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_UseAllTouchedPixels" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ParameterFetcher"/>
#! <XFORM_PARM PARM_NAME="ATTR_LIST" PARM_VALUE="_Stats_To_Calculate {$(Stats_To_Calculate)} _Keep_Source_Attributes {$(Keep_Source_Attributes)} _UseAllTouchedPixels {$(UseAllTouchedPixels)}"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="10"
#! NAME="Features_Input"
#! POSITION="-699.489 -367.998"
#! BOUNDING_RECT="-699.489 -367.998 -1 -1"
#! COLLAPSED="false"
#! PUBLISHED="true"
#! IS_SOURCE="true"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="11"
#! NAME="Output"
#! POSITION="1650 -450"
#! BOUNDING_RECT="1650 -450 -1 -1"
#! COLLAPSED="false"
#! IS_SOURCE="false"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#! IDENTIFIER="12"
#! SOURCE_NODE="4"
#! TARGET_NODE="3"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="14"
#! SOURCE_NODE="2"
#! TARGET_NODE="5"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="15"
#! SOURCE_NODE="1"
#! TARGET_NODE="6"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="false"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="16"
#! SOURCE_NODE="5"
#! TARGET_NODE="1"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="17"
#! SOURCE_NODE="8"
#! TARGET_NODE="7"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="18"
#! SOURCE_NODE="7"
#! TARGET_NODE="4"
#! SOURCE_PORT_DESC="fo 1"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="19"
#! SOURCE_NODE="10"
#! TARGET_NODE="2"
#! SOURCE_PORT_DESC="0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="20"
#! SOURCE_NODE="1"
#! TARGET_NODE="9"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="21"
#! SOURCE_NODE="9"
#! TARGET_NODE="11"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="26"
#! SOURCE_NODE="3"
#! TARGET_NODE="25"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="27"
#! SOURCE_NODE="25"
#! TARGET_NODE="1"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
#! 
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_SourceDataset_PATH E:\MCD43B4_Gapfilled_Output\EVI\Output_Monthly_Means\5km
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_Stats_To_Calculate count mean max
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_Keep_Source_Attributes True
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_Filename_Filter *.Mean.tif
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_UseAllTouchedPixels False
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO ZonalStats_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(ZonalStats_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(ZonalStats_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(ZonalStats_WORKSPACE_NAME)_Features_Input1439564328 Input Splitter"   INPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Features_Input"   OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Features_Input"
# -------------------------------------------------------------------------

Tcl2 proc $(ZonalStats_WORKSPACE_NAME)_Creator_CoordSysRemover {} {   global FME_CoordSys;   set FME_CoordSys {}; }
MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_XML     NOT_ACTIVATED
MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC NOT_ACTIVATED
MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_2D3D    2D_GEOMETRY
MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_COORDS  <Unused>
INCLUDE [ if { {Geometry Object} == {Geometry Object} } {            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_XML *} } ]
INCLUDE [ if { {Geometry Object} == {2D Coordinate List} } {            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_2D3D 2D_GEOMETRY};            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {3D Coordinate List} } {            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_2D3D 3D_GEOMETRY};            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC *} } ]
INCLUDE [ if { {Geometry Object} == {2D Min/Max Box} } {            set comment {                We need to turn the COORDS which are                    minX minY maxX maxY                into a full polygon list of coordinates            };            set splitCoords [split [string trim {<Unused>}]];            if { [llength $splitCoords] > 4} {               set trimmedCoords {};               foreach item $splitCoords { if { $item != {} } {lappend trimmedCoords $item} };               set splitCoords $trimmedCoords;            };            if { [llength $splitCoords] != 4 } {                error {$(ZonalStats_WORKSPACE_NAME)_Creator: Coordinate list is expected to be a space delimited list of four numbers as 'minx miny maxx maxy' - `<Unused>' is invalid};            };            set minX [lindex $splitCoords 0];            set minY [lindex $splitCoords 1];            set maxX [lindex $splitCoords 2];            set maxY [lindex $splitCoords 3];            puts "MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_COORDS $minX $minY $minX $maxY $maxX $maxY $maxX $minY $minX $minY";            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_2D3D 2D_GEOMETRY};            puts {MACRO $(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC *} } ]
FACTORY_DEF $($(ZonalStats_WORKSPACE_NAME)_Creator_XML) CreationFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_Creator_XML_Creator    CREATE_AT_END no    OUTPUT FEATURE_TYPE _____CREATED______        @Geometry(FROM_ENCODED_STRING,<lt>?xml<space>version=<quote>1.0<quote><space>encoding=<quote>US_ASCII<quote><space>standalone=<quote>no<quote><space>?<gt><lt>geometry<space>dimension=<quote>2<quote><gt><lt>null<solidus><gt><lt><solidus>geometry<gt>)
FACTORY_DEF $($(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC) CreationFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_Creator_CLASSIC_Creator    $($(ZonalStats_WORKSPACE_NAME)_Creator_2D3D) $($(ZonalStats_WORKSPACE_NAME)_Creator_COORDS)    CREATE_AT_END no    OUTPUT FEATURE_TYPE _____CREATED______
FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_Creator_Cloner    INPUT FEATURE_TYPE _____CREATED______    NUMBER_OF_COPIES 1    COPY_NUMBER_ATTRIBUTE "_creation_instance"    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Creator_CREATED"        @Tcl2($(ZonalStats_WORKSPACE_NAME)_Creator_CoordSysRemover)        @CoordSys()        fme_feature_type $(ZonalStats_WORKSPACE_NAME)_Creator

# -------------------------------------------------------------------------
MACRO $(ZonalStats_WORKSPACE_NAME)_FeatureReader_OUTPUT_PORTS_ENCODED PATH
MACRO $(ZonalStats_WORKSPACE_NAME)_FeatureReader_DIRECTIVES RETRIEVE_FILE_PROPERTIES NO GLOB_PATTERN "$($(ZonalStats_WORKSPACE_NAME)_Filename_Filter)" TYPE FILE

# Values come in encoded and come out decoded.
Tcl2 proc $(ZonalStats_WORKSPACE_NAME)_FeatureReader_findInListElseDefault { valueEncoded defaultValue } {    if { [lsearch [split {$($(ZonalStats_WORKSPACE_NAME)_FeatureReader_OUTPUT_PORTS_ENCODED)}] $valueEncoded] >= 0} {       return $(ZonalStats_WORKSPACE_NAME)_FeatureReader_[FME_DecodeText $valueEncoded]    } else {       return $(ZonalStats_WORKSPACE_NAME)_FeatureReader_$defaultValue    } }
# Always provide an INTERACTION, otherwise the factory defaults to ENVELOPE_INTERSECTS
INCLUDE [if { ( {<Unused>} == {<Unused>} ) || ( {($INTERACT_OPTIONS)} == {} ) } {             puts {MACRO FCTQUERY_INTERACTION_LINE FCTQUERY_INTERACTION NONE};          } else {             puts {MACRO FCTQUERY_INTERACTION_LINE FCTQUERY_INTERACTION "<Unused>"};          }         ]
# Consolidate the attribute merge options to what the factory expects
DEFAULT_MACRO $(ZonalStats_WORKSPACE_NAME)_FeatureReader_COMBINE_ATTRS
INCLUDE [       if { {RESULT_ONLY} == {MERGE} } {          puts "MACRO $(ZonalStats_WORKSPACE_NAME)_FeatureReader_COMBINE_ATTRS <Unused>";       } else {          puts "MACRO $(ZonalStats_WORKSPACE_NAME)_FeatureReader_COMBINE_ATTRS RESULT_ONLY";       };    ]
FACTORY_DEF * QueryFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_FeatureReader    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Creator_CREATED"    $(FCTQUERY_INTERACTION_LINE)    QUERYFCT_TABLE_SEPARATOR SPACE    COMBINE_ATTRIBUTES  $($(ZonalStats_WORKSPACE_NAME)_FeatureReader_COMBINE_ATTRS)    QUERYFCT_ATTRIBUTE_PREFIX <Unused>    COMBINE_GEOMETRY    RESULT_ONLY    ENABLE_CACHE        NO    READER_TYPE         PATH    READER_DATASET      "@EvaluateExpression(FDIV,STRING_ENCODED,$($(ZonalStats_WORKSPACE_NAME)_SourceDataset_PATH$encode),$(ZonalStats_WORKSPACE_NAME)_FeatureReader)"    READER_IDS    READER_DIRECTIVES   META_MACROS,SourceGLOB_PATTERN<comma><dollar><openparen>Filename_Filter<closeparen><comma>SourceTYPE<comma>FILE<comma>SourceRETRIEVE_FILE_PROPERTIES<comma>NO,METAFILE,PATH    QUERYFCT_OUTPUT     "BASED_ON_CONNECTIONS"    CONTINUE_ON_READER_ERROR YES    READER_PARAMS     $($(ZonalStats_WORKSPACE_NAME)_FeatureReader_DIRECTIVES)    OUTPUT RESULT FEATURE_TYPE *         @SupplyAttributes(fme_feature_type,@FeatureType())         @Tcl2("set FME_FeatureType [$(ZonalStats_WORKSPACE_NAME)_FeatureReader_findInListElseDefault [FME_EncodeText $FME_FeatureType] {<OTHER>}]")         @Transform(PATH,FME_GENERIC)

# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(ZonalStats_WORKSPACE_NAME)_AttributeKeeper_51248f24_c517_483f_8dc7_4e749bb9ef4e0_LIST_EXP ";    foreach attr [split ""] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]

FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_AttributeKeeper    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_FeatureReader_PATH"    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"        @KeepAttributes(fme_encoded,path_windows,fme_pcre_match,"^fme_$($(ZonalStats_WORKSPACE_NAME)_AttributeKeeper_51248f24_c517_483f_8dc7_4e749bb9ef4e0_LIST_EXP)")

# -------------------------------------------------------------------------

FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_ListBuilder_fme_type_remover    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_AttributeKeeper_OUTPUT"    OUTPUT FEATURE_TYPE $(ZonalStats_WORKSPACE_NAME)_ListBuilder_no_fme_type       @RemoveAttributes(fme_type,fme_geometry)
FACTORY_DEF * ListFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_ListBuilder    INPUT FEATURE_TYPE $(ZonalStats_WORKSPACE_NAME)_ListBuilder_no_fme_type    LIST_NAME "RasterList{}"    OUTPUT LIST FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_ListBuilder_OUTPUT"

# -------------------------------------------------------------------------

Tcl2 proc $(ZonalStats_WORKSPACE_NAME)_ParameterFetcher_doFetch {} {    foreach {name val} {"_Stats_To_Calculate {$($(ZonalStats_WORKSPACE_NAME)_Stats_To_Calculate$encode)} _Keep_Source_Attributes {$($(ZonalStats_WORKSPACE_NAME)_Keep_Source_Attributes$encode)} _UseAllTouchedPixels {$($(ZonalStats_WORKSPACE_NAME)_UseAllTouchedPixels)}"} {         if { [string match {*<at>*} $val] == 1 } {             set val [FME_Execute EvaluateExpression {STRING} $val {$(ZonalStats_WORKSPACE_NAME)_ParameterFetcher}];         } elseif {[string match {*FME_CONDITIONAL*} $val] == 1} {             set val [FME_Execute EvaluateExpression {STRING} $val {$(ZonalStats_WORKSPACE_NAME)_ParameterFetcher}];         } else {             set val [FME_DecodeTextOrAttr $val];         };       FME_SetAttribute [FME_DecodeText $name] $val    } }
FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_ParameterFetcher    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_ListBuilder_OUTPUT"    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"         @Tcl2($(ZonalStats_WORKSPACE_NAME)_ParameterFetcher_doFetch)

# -------------------------------------------------------------------------

Tcl2 proc $(ZonalStats_WORKSPACE_NAME)_Counter_730fa32e_ac08_4b74_bdf4_3b6993be52940_createDomain { in_domainName } {    set domainName $in_domainName;    if { {Global} == {Local} }    {       set xFormName [FME_EncodeText {$(ZonalStats_WORKSPACE_NAME)_Counter_}];       set domainName $xFormName$domainName;    };    return $domainName; }

FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_Counter    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Features_Input"    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Counter_OUTPUT"         "_FME_FID_" @Count(fme_encoded,@Tcl2("$(ZonalStats_WORKSPACE_NAME)_Counter_730fa32e_ac08_4b74_bdf4_3b6993be52940_createDomain {counter}"), "0")

# -------------------------------------------------------------------------

# First determine which function we are going to be using -- we can do
# this statically at parse time for efficiency sake

MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function
INCLUDE [ if {{wkt} == {fmebinary} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @Geometry(TO_ATTRIBUTE_BINARY,"_FME_GEOM_WKT_") }           } elseif {{wkt} == {fmehex} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @Geometry(TO_ATTRIBUTE_BINARY_HEX,"_FME_GEOM_WKT_") }           } elseif {{wkt} == {fmexml} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @Geometry(TO_ATTRIBUTE,"_FME_GEOM_WKT_") }           } elseif {{wkt} == {polyline} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @Geometry(TO_ATTRIBUTE_POLYLINE,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {wkt} ||                      {wkt} == {wkb} ||                      {wkt} == {wkbhex} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @OGCGeometry(to_attribute,wkt,"_FME_GEOM_WKT_",1.1) }           } elseif {{wkt} == {GEOJSON} ||                     {wkt} == {ESRIJSON} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @JSONGeometry(TO_ATTRIBUTE,wkt,"_FME_GEOM_WKT_") }           } elseif {{wkt} == {KML} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @KMLGeometry(TO_ATTRIBUTE,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {GEORSS_SIMPLE} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @GeoRSSGeometry(TO_ATTRIBUTE,wkt,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {GML_2.1.2} ||                     {wkt} == {GML_3.1.1} ||                     {wkt} == {GML_3.2.1} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @GMLGeometry(TO_ATTRIBUTE,wkt,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {geohash} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @GeoHash(TO_ATTRIBUTE,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {ogeosms} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @OGCGeometry(to_attribute,wkt,"_FME_GEOM_WKT_",<Unused>) }           } elseif {{wkt} == {geosms} ||                     {wkt} == {geo}    } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @OGCGeometry(to_attribute,wkt,"_FME_GEOM_WKT_") }           } elseif {{wkt} == {mgrs} } {               puts {MACRO $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function @SupplyAttributes(_FME_GEOM_WKT_, @MGRS(TO_MGRS, <Unused>, <Unused>, "<Unused>")) }           }         ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_GeometryExtractor    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Counter_OUTPUT"    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_OUTPUT"         $($(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_Function)

# -------------------------------------------------------------------------


FME_PYTHON_PATH "$(FME_MF_DIR)"

FACTORY_DEF * PythonFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_PythonCaller    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_GeometryExtractor_OUTPUT"    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_ParameterFetcher_OUTPUT"    SYMBOL_NAME FeatureProcessor    PYTHON_NAMESPACE FMEOBJECTS    SOURCE_CODE import<space>fme<lf>import<space>fmeobjects<lf><lf>try:<lf><space><space><space><space>from<space>osgeo<space>import<space>gdal<comma>ogr<lf><space><space><space><space>from<space>osgeo.gdalnumeric<space>import<space>*<lf>except<space>ImportError:<lf><space><space><space><space>import<space>gdal<comma>ogr<lf><space><space><space><space>from<space>gdalnumeric<space>import<space>*<lf><lf>#<space>move<space>existing<space>code<space>to<space>module<space>with<space>transformer<lf>from<space>raster_stats_multi<space>import<space>raster_stats_multi<lf>from<space>rasterstats.utils<space>import<space>*<lf>from<space>shapely.geometry<space>import<space>shape<comma><space>box<comma><space>MultiPolygon<lf><lf>logger<space>=<space>fmeobjects.FMELogFile<openparen><closeparen><lf><lf>#<space>Template<space>Function<space>interface:<lf>def<space>processFeature<openparen>feature<closeparen>:<lf><space><space><space><space>pass<lf><lf>#<space>Template<space>Class<space>Interface:<lf>class<space>FeatureProcessor<openparen>object<closeparen>:<lf><space><space><space><space><lf><space><space><space><space>def<space>__init__<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><space>#self.allFeatures<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space>self.allFeatures<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.rasterFiles<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space>self.allIDs<space>=<space>set<openparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>self.useAllTouched<space>=<space>False<lf><space><space><space><space><space><space><space><space>self.copyValues<space>=<space>True<lf><space><space><space><space><space><space><space><space>self.whichStats<space>=<space><openbracket><closebracket><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space>#<space>for<space>each<space>input<space>feature<space>turn<space>it<space>into<space>a<space>dictionary<space>of<space>attribs<space>and<space>save<space>to<space>a<space>list<lf><space><space><space><space>#<space>Except<space>for<space>feature<space>which<space>has<space>a<space>RasterList<space>attribute<space>-<space>there<space>must<space>be<space>one<space>of<space>these<lf><space><space><space><space>def<space>input<openparen>self<comma>feature<closeparen>:<lf><space><space><space><space><space><space><space><space>#<space>there<space>must<space>be<space>exactly<space>one<space>feature<space>provided<space>that<space>has<space>a<space>RasterList<opencurly><closecurly><space>attribute<lf><space><space><space><space><space><space><space><space>list<space>=<space>feature.getAttribute<openparen><apos>RasterList<opencurly><closecurly>.path_windows<apos><closeparen><lf><space><space><space><space><space><space><space><space>if<space>list<space>!=<space>None:<lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>len<openparen>self.rasterFiles<closeparen><space>!=<space>0:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#<space>throw<space>error<space>better<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><quote>Zonal<space>stats<space>error<space>-<space>more<space>than<space>one<space>feature<space>with<space>a<space>RasterList<opencurly><closecurly><space>attribute<quote><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>False<lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.rasterFiles<space>=<space>list<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.useAllTouched<space>=<space><quote>True<quote><space>==<space>feature.getAttribute<openparen><apos>_UseAllTouchedPixels<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.copyValues<space>=<space><quote>True<quote><space>==<space>feature.getAttribute<openparen><apos>_Keep_Source_Attributes<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#<space>get<space>which<space>stats<space>to<space>do<space>from<space>wb<space>parameter<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.whichStats<space>=<space>feature.getAttribute<openparen><apos>_Stats_To_Calculate<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#<space>parse<space>to<space>listFME_MacroValues<openbracket><apos>StatsToRun<apos><closebracket>FME_MacroValues<openbracket><apos>Geom_Attr_WKT<apos><closebracket>FME_MacroValues<openbracket><apos>ID_Attr<apos><closebracket>FME_MacroValues<openbracket><apos>Keep_Source_Attrs<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#except:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>#self.whichStats<space>=<space><openbracket><apos>sum<apos><comma><apos>mean<apos><comma><apos>max<apos><comma><apos>min<apos><closebracket><lf><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space>#geomWKT<space>=<space>feature.getAttribute<openparen><apos>_FME_GEOM_WKT_<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>featID<space>=<space>feature.getAttribute<openparen><apos>_FME_FID_<apos><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>featID<space>in<space>self.allIDs:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><quote>Non<space>unique<space>feature<space>IDs!<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>assert<space>False<lf><space><space><space><space><space><space><space><space><space><space><space><space>attrNames<space>=<space>feature.getAllAttributeNames<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>item<space>=<space><opencurly><closecurly><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>attrName<space>in<space>attrNames:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>item<openbracket>attrName<closebracket><space>=<space>feature.getAttribute<openparen>attrName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space><space><space><space><space>if<space>item.has_key<openparen><apos>_FME_GEOM_WKT_<apos><closeparen><space>and<space>item.has_key<openparen><apos>_FME_FID_<apos><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.allFeatures.append<openparen>item<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>else:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><quote>Feature<space>does<space>not<space>have<space>necessary<space>attributes!<quote><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space>#<space>When<space>all<space>features<space>have<space>arrived<comma><space>call<space>the<space>modified<space>external<space>zonal<space>stats<space>script<lf><space><space><space><space>def<space>close<openparen>self<closeparen>:<lf><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><quote>Calculating<space>stats:<space><space><quote>+str<openparen>self.whichStats<closeparen><closeparen><lf><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>get<space>whether<space>the<space>input<space>attributes<space>should<space>be<space>copied<space>over<space><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><quote>Copying<space>attributes<space>to<space>output<space>=<space><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>+str<openparen>self.copyValues<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>Get<space>the<space>edge<space>pixel<space>inclusion<space>strategy<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>logger.logMessageString<openparen><quote>Using<space>all<space>touched<space>pixels<space>in<space>zonal<space>stats:<space><quote><lf><space><space><space><space><space><space><space><space><space><space><space><space>+str<openparen>self.useAllTouched<closeparen><closeparen><lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>run<space>zonal_stats_multi<space>script<space><openparen>modified<space>from<space>rasterstats<space>package<closeparen><lf><space><space><space><space><space><space><space><space>results<space>=<space>raster_stats_multi<openparen><lf><space><space><space><space><space><space><space><space><space><space><space><space>self.allFeatures<comma><space>self.rasterFiles<comma><space><lf><space><space><space><space><space><space><space><space><space><space><space><space><apos>_FME_GEOM_WKT_<apos><comma><space><apos>_FME_FID_<apos><comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>stats<space>=<space>self.whichStats<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>copy_properties<space>=<space>self.copyValues<comma><lf><space><space><space><space><space><space><space><space><space><space><space><space>all_touched<space>=<space>self.useAllTouched<lf><space><space><space><space><space><space><space><space><space><space><space><space><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>#<space>output<space>features<space>with<space>fid<comma><space>mean<comma><space>sum....<lf><space><space><space><space><space><space><space><space>for<space>rastFileRes<space>in<space>results:<lf><space><space><space><space><space><space><space><space><space><space><space><space>stats<space>=<space>rastFileRes<openbracket><apos>stats<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>rastName<space>=<space>rastFileRes<openbracket><apos>rastername<apos><closebracket><lf><space><space><space><space><space><space><space><space><space><space><space><space>for<space>zoneRastRes<space>in<space>stats:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>feature<space>=<space>fmeobjects.FMEFeature<openparen><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen><apos>rastername<apos><comma><space>rastName<closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>for<space>stat<space>in<space>zoneRastRes.keys<openparen><closeparen>:<lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>feature.setAttribute<openparen>stat<comma><space>zoneRastRes<openbracket>stat<closebracket><closeparen><lf><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space><space>self.pyoutput<openparen>feature<closeparen><lf><space><space><space><space><space><space><space><space>results<space>=<space>None<lf><space><space><space><space><space><space><space><space><lf><space><space><space><space><space><space><space><space>    OUTPUT PYOUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT"

FACTORY_DEF * TeeFactory   FACTORY_NAME "$(ZonalStats_WORKSPACE_NAME)_PythonCaller OUTPUT Splitter"   INPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT"   OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_i2UKl8oWWJw="   OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_i2UKl8oWWJw="
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_i2UKl8oWWJw= Disabled Nuker -1 15"   INPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_i2UKl8oWWJw="
# -------------------------------------------------------------------------

INCLUDE [    set macroLine "MACRO $(ZonalStats_WORKSPACE_NAME)_AttributeRemover_LIST_EXP ";    foreach attr [split "RasterList<opencurly><closecurly>"] {       set attr [FME_DecodeText $attr];       set attr [regsub "{}$" $attr "{}.*"];       set attr [regsub -all "{}" $attr "\\{\[0-9\]+\\}"];       append macroLine ",^$attr$";    };    puts $macroLine; ]
FACTORY_DEF * TeeFactory    FACTORY_NAME $(ZonalStats_WORKSPACE_NAME)_AttributeRemover    INPUT  FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_0_i2UKl8oWWJw="    OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_AttributeRemover_OUTPUT"        @RemoveAttributes(fme_encoded,_FME_GEOM_WKT_)        @RemoveAttributes(fme_pcre_match"$($(ZonalStats_WORKSPACE_NAME)_AttributeRemover_LIST_EXP)")

# -------------------------------------------------------------------------
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_Output (Disabled) Nuker"   INPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_PythonCaller_OUTPUT_1_i2UKl8oWWJw="
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(ZonalStats_WORKSPACE_NAME)_Output1439564328 Output Collector"   INPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_AttributeRemover_OUTPUT"   OUTPUT FEATURE_TYPE "$(ZonalStats_WORKSPACE_NAME)_Output"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(ZonalStats_WORKSPACE_NAME))}]
